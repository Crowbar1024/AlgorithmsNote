# 智力题

64匹马，8赛道，找出最快的4匹最少要几次?

[https://mp.weixin.qq.com/s/EjV2yXqM4VXKl7O1EdSnTw](https://mp.weixin.qq.com/s/EjV2yXqM4VXKl7O1EdSnTw "https://mp.weixin.qq.com/s/EjV2yXqM4VXKl7O1EdSnTw")

称球

[https://www.zhihu.com/question/33250659](https://www.zhihu.com/question/33250659 "https://www.zhihu.com/question/33250659")



# 概率题

# 从事先未知总数的对象中随机选择一个

比如：对链表进行一趟遍历，随机输出其中的一个结点的元素，只能使用一个临时指针。

解法是，以概率1选择第一个元素存入缓存，以概率1/2用第二个元素替换掉缓存，以概率1/3...1/n替换直至遍历完所有元素，最后输出缓存的内容。可以分析出此时所有元素留在缓存的概率均为1/n，比如要最后留下3，前面2次无所谓，需要第三次用三替换，并且最后不被替换：(1/3)\*(3/4)...(n-1/n)=1/n。下面是伪代码：

```c++
int res;  // 随机输出的元素
for (int i = 1; i != end; i++) {
    // rand()%i 在C++中表示返回[0,i-1]中的随机整数
    if (rand()%i == 0) {
        num = i;
    }
}
return num;

```

# 赠券收集问题

餐馆每天随机发放十二生肖优惠券中的其中一张，问能收集齐12种不同的优惠券所需要的天数的数学期望。

假设Xi 是第i天 收集到 第 i 种不同的优惠券的概率，那么，第一天拿到第一种不重复的优惠券的概率是 1；第二天拿到第二种不重复的优惠券的概率是 11/12；第三天拿到第三种不重复的优惠券的概率是10/12……以此类推，第十二天拿到第12中不重复的优惠券的概率是1/12.

也就是说，拿到第一种不重复的优惠券所需要的天数是1，拿到第二种不重复的优惠券放所需的天数是12/11……以此类推，拿到第12种不重复的优惠券所需要的天数是12.

所以，根据总的数学期望==各项数学期望的和，我们可以得到，n张不同类型的优惠券，收集齐所需要的天数的数学期望是：

1 + n/(n-1) + n/(n-2) + ... + n/1 = n\*(1/n + 1/(n-1) + ... + 1) = n\[ln(n+1) + eta] (调和级数，欧拉常数eta=0.577)

# 前后筛子问题

每个玩家有一张包含16个覆盖点的纸牌，覆盖点下面隐藏着1\~16的随机排列。玩家每次刮开一个点，如果出现3，则判玩家负；如果出现1或2，则判玩家胜。那么，随机选择覆盖点刮开，获胜的概率是多少？

解答：

其实胜负只对应两种排列：1和2都出现在3前则胜，否则负。显然获胜的情况：

123 213 132 231

总数A33=6

所以概率为2/3
